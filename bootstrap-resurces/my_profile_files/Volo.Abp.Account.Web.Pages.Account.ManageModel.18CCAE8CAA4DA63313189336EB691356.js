(function(n){var t=abp.localization.getResource("AbpAccount"),i=volo.abp.identity.profile;n("#ChangePasswordForm").submit(function(r){if(r.preventDefault(),!n("#ChangePasswordForm").valid())return!1;var u=n("#ChangePasswordForm").serializeFormToObject().changePasswordInfoModel;if(u.newPassword!=u.newPasswordConfirm||u.currentPassword==""){abp.message.error(t("NewPasswordConfirmFailed"));return}u.currentPassword!=""&&i.changePassword(u).then(function(){abp.message.success(t("PasswordChanged"))})});n("#PersonalSettingsForm").submit(function(r){if(r.preventDefault(),!n("#PersonalSettingsForm").valid())return!1;var u=n("#PersonalSettingsForm").serializeFormToObject().personalSettingsInfoModel;i.update(u).then(function(){abp.notify.success(t("PersonalSettingsSaved"))})})})(jQuery);

function initPage(){if(isCRUDLCreate())refreshAllTotals();else if(isCRUDLUpdate())refreshAllTotals(),$("#consultants").val($("#ConsTarget_UserFullName").val()),$("#consultants").enable(!1);else{$("#submitConsTarget").remove();$("#consultants").val($("#ConsTarget_UserFullName").val());$("#consultants").enable(!1);var n=$('input[id^="ConsTarget"]');n.each(function(){try{var n=$(this).data("kendoNumericTextBox");n.enable(!1)}catch(t){}})}abp.log.debug("initPage completed")}function refreshAllTotals(){var u=0,e=0,o=0,s=0,r;for(let n=1;n<6;n++){var c=parseInt($("#ConsTarget_Num_Target").val(),10),l=parseInt($("#ConsTarget_Amount_Target").val(),10),f=parseInt($("#ConsTarget_Perc_Week"+n+"Target").val(),10),h=parseInt($("#ConsTarget_Amount_Week"+n+"Revenue").val(),10);isNaN(f)||f==0?($("#ConsTarget_Num_Week"+n+"Target").val(""),$("#ConsTarget_Amount_Week"+n+"Target").val("")):(u+=f,isNaN(c)?$("#ConsTarget_Num_Week"+n+"Target").val(""):(r=c*f/100,$("#ConsTarget_Num_Week"+n+"Target").val(r),e+=r),isNaN(l)?$("#ConsTarget_Amount_Week"+n+"Target").val(""):(r=l*f/100,$("#ConsTarget_Amount_Week"+n+"Target").val(r),s+=r));isNaN(h)||h==0||(o+=h)}$("#ConsTarget_PercTot_AllWeeksTarget").val(u!=0?u:"");u!=0&&u>100?$("#ConsTarget_PercTot_AllWeeksTarget").css("color","red"):$("#ConsTarget_PercTot_AllWeeksTarget").css("color","black");$("#ConsTarget_NumTot_AllWeeksTarget").val(e!=0?e:"");$("#ConsTarget_AmountTot_AllWeeksRevenue").val(o!=0?o:"");$("#ConsTarget_AmountTot_AllWeeksTarget").val(s!=0?s:"");var t=0,n=0,i=0;t=parseInt($("#ConsTarget_Num_RenewMonth").val(),10);n=parseInt($("#ConsTarget_Num_ExpiryMonth").val(),10);isNaN(t)||isNaN(n)||n==0?$("#ConsTarget_Perc_FidelityMonth").val(""):(i=parseFloat(t/n).toFixed(2)*100,$("#ConsTarget_Perc_FidelityMonth").val(i));t=parseInt($("#ConsTarget_Num_Renew3160gg").val(),10);n=parseInt($("#ConsTarget_Num_Expiry3160gg").val(),10);isNaN(t)||isNaN(n)||n==0?$("#ConsTarget_Perc_Fidelity3160gg").val(""):(i=parseFloat(t/n).toFixed(2)*100,$("#ConsTarget_Perc_Fidelity3160gg").val(i));t=parseInt($("#ConsTarget_Num_Renew6190gg").val(),10);n=parseInt($("#ConsTarget_Num_Expiry6190gg").val(),10);isNaN(t)||isNaN(n)||n==0?$("#ConsTarget_Perc_Fidelity6190gg").val(""):(i=parseFloat(t/n).toFixed(2)*100,$("#ConsTarget_Perc_Fidelity6190gg").val(i));t=parseInt($("#ConsTarget_Num_RenewOver").val(),10);n=parseInt($("#ConsTarget_Num_ExpiryOver").val(),10);isNaN(t)||isNaN(n)||n==0?$("#ConsTarget_Perc_FidelityOver").val(""):(i=parseFloat(t/n).toFixed(2)*100,$("#ConsTarget_Perc_FidelityOver").val(i));t=parseInt($("#ConsTarget_Num_RenewExtra").val(),10);n=parseInt($("#ConsTarget_Num_ExpiryExtra").val(),10);isNaN(t)||isNaN(n)||n==0?$("#ConsTarget_Perc_FidelityExtra").val(""):(i=parseFloat(t/n).toFixed(2)*100,$("#ConsTarget_Perc_FidelityExtra").val(i))}function onCellValueChanged(){refreshAllTotals()}function setReadonlyIfCRUDLIsRead(){isCRUDLRead()}function onConsultantsSelect(n){var t=this.dataItem(n.item.index()).Id;$("#ConsTarget_UserId").val(t)}function onConsultantsChange(n){n.sender._old==""&&$("#ConsTarget_UserId").val("")}$(function(){abp.log.debug("Targets/Manage.js initialized");initPage()});
